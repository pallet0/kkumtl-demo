<!DOCTYPE html>
<html lang="ko"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Kider - Preschool Website Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <meta property="og:title" content="연세대학교 수업중">
    <meta property="og:description" content="SW·AI Business Application Design">
    <meta property="og:image" content="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-ONE0bxdsS6EceAXsiD7WKWroKyQITm1pC4RgEug2tQ&amp;s">

    <!-- Favicon -->
    <link href="https://class.handsomeys.com/img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link href="webdev%20ip%20collections_files/css2.css" rel="stylesheet">
    
    <!-- Icon Font Stylesheet -->
    <link href="webdev%20ip%20collections_files/all.min.css" rel="stylesheet">
    <link href="webdev%20ip%20collections_files/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="webdev%20ip%20collections_files/animate.min.css" rel="stylesheet">
    <link href="webdev%20ip%20collections_files/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="webdev%20ip%20collections_files/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="webdev%20ip%20collections_files/style.css" rel="stylesheet">

    <style>
	pre code {
 	    background-color: #eee;
  	    border: 1px solid #999;
  	    display: block;
	    padding: 20px;
        }

        p {
            width: 100%;
            text-align: center;
        }
    </style>

    
</head>

<body>

	<p style="margin-top:40px;">Google Sheets Columns</p>
	<pre>		<code>
			id / landingUrl / ip / referer / time_stamp / utm / device
			id / email / advice
		</code>
	</pre>
	<p>Google Apps Script</p>
	<pre>		<code>
			function doGet(req) {

				// return ContentService.createTextOutput(JSON.stringify(req));
			      
			       var SHEET_URL = "https://docs.google.com/spreadsheets/d/...../edit"
			       var SHEET_ID = "...."
			       var action    = req.parameter.action;
			       var table_req = req.parameter.table;
			    
			       //var db    = SpreadsheetApp.openById( SHEET_ID );
			       var db = SpreadsheetApp.openByUrl(SHEET_URL);
			       var table = db.getSheetByName( table_req );
			       var ret;
				  
			       switch(action) {
				case "read":
				    ret = Read( req, table );
				    break;
				case "insert":
				    ret = Insert( req, table );
				    break;
				case "update":
				    ret = Update( req, table );
				    break;
				case "delete":
				    ret = Delete( req, table );
				    break;
				default:
				    break;
				}
			
				return response().jsonp(req, ret);
			    }
			    
			    /* Read
			     * request for all tables
			     *
			     * @parameter action=read
			     * @parameter table=<table_name>
			     * @parameter id=<column_id>
			     *
			     * @example-request | ?action=read&amp;table=<table_name>
			     * @example-request-single-row | ?action=read&amp;table=<table_name>&amp;id=<row_number>
			     */
			    function Read( request, table ) {
			      var request_id = Number( request.parameter.id );
			      return {
				success: true,
				data: _read( table, request_id )
			      };
			    }
			    
			    /* Insert
			     * dynamic for all data
			     *
			     * @parameter action=insert
			     * @parameter table=<table_name>
			     * @parameter data=JSON
			     *  
			     * @example-request | ?action=insert&amp;table=<table_name>&amp;data={"name":"John Doe"}
			     */
			    function Insert( request, table ) {
			      var errors = [];
			      
			      var last_col     = table.getLastColumn();
			      var first_row    = table.getRange(1, 1, 1, last_col).getValues();
			      var headers      = first_row.shift();
			      var data         = JSON.parse( request.parameter.data );
			      var new_row;
			      var result = {};  
			    
			      try {
				new_row = prepareRow( data, headers );
				table.appendRow( new_row );
				
				result.success = true;
				result.data = data;
			      } catch ( error ) {
				result.success = false;
				result.data = { error: error.messsage };
			      }
			      return result;
			    }
			    
			    /* Update
			     * dynamic for all tablese
			     *
			     * @parameter action=update
			     * @parameter table=<table_name>
			     * @parameter id=<column_id>
			     * @parameter data=JSON
			     * 
			     * @example-request | ?action=update&amp;table=<table_name>&amp;id=<id>&amp;data={"col_to_update": "value" }
			     */
			    function Update( request, table ) {
			      var last_col      = table.getLastColumn();
			      var first_row     = table.getRange(1, 1, 1, last_col).getValues();
			      var headers       = first_row.shift();
			      
			      var request_id    = Number( request.parameter.id );
			      var current_data  = _read( table, request_id );
			      var data          = JSON.parse( request.parameter.data );
			      
			      var result = {};
			      
			      try {
				var current_row   = current_data.row;
				for( var object_key in data ) {
				  var current_col = headers.indexOf( object_key ) + 1;
				  table.getRange( current_row, current_col ).setValue( data[ object_key ]); // update iteratively
				  current_data[ object_key ] = data[ object_key ]; // update for response;
				}
				result.successs = true;
				result.data = current_data;
			      } catch ( error ) {
				result.success = false;
				result.data = { error: error.messsage };
			      }
			      
			      return response().json( result );
			  }
			    
			    /* Delete
			     * dynamic for all tables
			     *
			     * @parameter action=delete
			     * @parameter table=<table_name>
			     * @parameter id=<column_id>
			     * 
			     * @example-request | ?action=update&amp;table=<table_name>&amp;id=<id>
			     */
			    function Delete( request, table ) {
			      var request_id    = Number( request.parameter.id );
			      var current_data  = _read( table, request_id );
			      
			      // delete
			      table.deleteRow( current_data.row );
			      
			      return response().json({
				  success: true,
				  data: current_data
				});
			    }
			    
			    /**
			     * Build the response content type 
			     * back to the user
			     */
			    function response() {
			       return {
				  json: function(data) {
				      return ContentService.createTextOutput(
					    JSON.stringify(data)).setMimeType(ContentService.MimeType.JSON);
				  },
				  jsonp: function(req, data) {
				    return ContentService.createTextOutput(
				      req.parameters.callback + '(' + JSON.stringify(data) + ')').setMimeType(ContentService.MimeType.JAVASCRIPT);
				  }
			       }
			    }
			    
			    /**
			    * Read from sheet and return map key-value
			    * javascript object
			    */
			    function _read( sheet, id ) {
			      var data         = sheet.getDataRange().getValues();
			      var header       = data.shift();
			      
			      // Find All
			      var result = data.map(function( row, indx ) {
			      var reduced = header.reduce( function(accumulator, currentValue, currentIndex) {
				accumulator[ currentValue ] = row[ currentIndex ];
				return accumulator;
			      }, {});
			    
			      reduced.row = indx + 2;
			      return reduced;
			      
			      });
			      
			      // Filter if id is provided
			      if( id ) {
				var filtered = result.filter( function( record ) {
				  if ( record.id === id ) {
				    return true;
				  } else {
				    return false;
				  }
				    });
				      return filtered.shift();
			      } 
			     
			      return result;
			      
			    }
			    
			    /*
			     * Prepare row with correct order to insert into
			     * sheet.
			     * 
			     * @throws Error
			     */
			    function prepareRow( object_to_sort, array_with_order ) {
			      var sorted_array   = [];
			      
			      for( var i=0; i&lt;array_with_order.length; i++ ) {
				      var value = object_to_sort[ array_with_order[ i ]];
				
				      if( typeof value === 'undefined' ) {
					throw new Error( "The attribute/column &lt;" + array_with_order[i] + "&gt; is missing." );
				      } else {
					sorted_array[i] = value;      
				      }
			      }
			    
			      return sorted_array;
			    }
		</id></table_name></column_id></table_name></id></table_name></column_id></table_name></table_name></table_name></row_number></table_name></table_name></column_id></table_name></code>
		</pre>

		<p>postman</p>
    <pre>      <code>
			GET
			action : insert
			table : visitors
 			data : {"id":"id_test","landingUrl":"yonsei.ac.kr","ip":"192.168.0.1","referer":"https://instagram.com/yonsei","time_stamp":"2024-03-29 13:00:00","utm":"twitter","device":"mobile"}
			</code>
		</pre>

		<p> Ajax Jsonp 구현</p>
		<pre>			<code>
				
				&lt;script src="https://code.jquery.com/jquery-latest.min.js"&gt;&lt;/script&gt;
				script fetch jquery
				&lt;script src="https://unpkg.com/axios/dist/axios.min.js"&gt;&lt;/script&gt;

				/* data를 만들 땐 모든 field가 들어 있어야 함 */
            			var data = JSON.stringify(
					        {"id": "id_test",
							"landingUrl":"yonsei.ac.kr", 
							"ip":"192.168.0.1", 
							"referer":"https://instagram.com/yonsei",
							"time_stamp":"2024-03-29 13:00:00", 
							"utm":"twitter",
							"device":"mobile"}
							);

				$(document).ready(function () {

					addrScript = 'https://script.google.com/macros/s/AKfycbxcFTg0Vfc4_12Bd5rB620PwNXs5Rj2ipSwTWRt4sCZd6tBvvpACVfo5XOll95aQWtMyQ/exec';

					$.ajax({
					    url: addrScript+'?action=insert&amp;table=visitors&amp;data='+data,
					    dataType: 'jsonp',
					    success: function (data) {
						console.log('성공 - ', JSON.stringify(data));
					    },
					    error: function (xhr) {
						console.log('실패 - ', JSON.stringify(xhr));
					    }
					});
				    });


				$(document).ready(function () {

					console.log("Document Ready");

					/* axios request */

				});


				axios.get(addrScript+'?action=insert&amp;table=visitors&amp;data='+data)
				    .then(response =&gt; {
							console.log(JSON.stringify(response));
						})
						.catch(error =&gt; {
							if (error.response) {
								// 서버가 2xx 범위를 벗어난 상태 코드로 응답한 경우
								console.log(error.response.data);
								console.log(error.response.status);
								console.log(error.response.headers);
							} else if (error.request) {
								// 요청이 전송되었지만 응답을 받지 못한 경우
								console.log(error.request);
							} else {
								// 요청 설정 중에 오류가 발생한 경우
								console.log('Error', error.message);
							}
							console.log(error.config);
						});


			</code>
		</pre>

		<p> Cookie 다루기 (Unique Identification) </p>
		<pre>			<code>
				// 쿠키에서 값을 가져오는 함수
				function getCookieValue(name) {
					const value = "; " + document.cookie;
					const parts = value.split("; " + name + "=");
					if (parts.length === 2) {
						return parts.pop().split(";").shift();
					}
				}

				// 쿠키에 값을 저장하는 함수
				function setCookieValue(name, value, days) {
					let expires = "";
					if (days) {
						const date = new Date();
						date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
						expires = "; expires=" + date.toUTCString();
					}
					document.cookie = name + "=" + (value || "") + expires + "; path=/";
				}

				function getUVfromCookie() {
					// 6자리 임의의 문자열 생성
					const hash = Math.random().toString(36).substring(2, 8).toUpperCase();
					// 쿠키에서 기존 해시 값을 가져옴
					const existingHash = getCookieValue("user");
					// 기존 해시 값이 없으면, 새로운 해시 값을 쿠키에 저장
					if (!existingHash) {
						setCookieValue("user", hash, 180); // 쿠키 만료일은 6개월 
						return hash;
					} else {
						// 기존 해시 값이 있으면, 기존 값을 반환
						return existingHash;
					}
				}

				/* 수정 payload data -&gt; id:getUVfromCookie() */
			</code>
		</pre>

		<p> Landing Url </p>
		<pre>			<code>
				data =&gt; "landingUrl" : window.location.href
			</code>
		</pre>

		<p> Get User IP </p>
		<pre>			<code>
				&lt;script type="application/javascript"&gt;
					var ip = "null";
					function getIP(json) {
					    console.log(json);
					    try {
							ip = json.ip;
					    } catch (e) {
							ip = 'unknown';
					    }
					    return;
					}
					&lt;/script&gt;
					&lt;script type="application/javascript" src="https://jsonip.com?format=jsonp&amp;callback=getIP"&gt;&lt;/script&gt;

					최종 data에 getIP()가 아니라, ip를 추가 
			</code>
		</pre>

		<p> Referer 가져오기 </p>
		<pre>			<code>
				document.referrer
			</code>
		</pre>

		<p> Time Stamp 가져오기 </p>
		<pre>			<code>
				// Sam pading value to start with 0. eg: 01, 02, .. 09, 10, ..
				function padValue(value) {
					return (value &lt; 10) ? "0" + value : value;
				}

				function getTimeStamp() {
					const date = new Date();

					const year = date.getFullYear();
					const month = date.getMonth() + 1;
					const day = date.getDate();
					const hours = date.getHours();
					const minutes = date.getMinutes();
					const seconds = date.getSeconds();

					const formattedDate = `${padValue(year)}-${padValue(month)}-${padValue(day)} ${padValue(hours)}:${padValue(minutes)}:${padValue(seconds)}`;

					return formattedDate;
				}
			</code>
		</pre>

		<p> UTM 가져오기</p>
		<pre>			<code>
				var queryString = location.search;
				const urlParams = new URLSearchParams(queryString);
				const utm = urlParams.get("utm")
			</code>
		</pre>

		<p> Device 가져오기 </p>
		<pre>			<code>
				var mobile = 'desktop';
				if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
					// true for mobile device
					mobile = 'mobile';
				}
			</code>
		</pre>

		<p> 최종 데이터</p>
		<pre>			<code>
				/* data를 만들 땐 모든 field가 들어 있어야 함 */
				var data = JSON.stringify({"id": getUVfromCookie(),
							"landingUrl":window.location.href,
							"ip":ip,
							"referer":document.referrer,
							"time_stamp":getTimeStamp(),
							"utm":utm,
							"device":mobile}
							);
			</code>
		</pre>

		<p> Ajax 수정 - http object</p>
		<pre>			<code>

			* 보통 ajax에서 app script에 redirect에 의한 404 error가 나는 경우에는 redirect시 /u/1/ 이런식으로 user param이 자동으로 더 붙어서 그렇다. 
			   이럴 때에는 axios를 사용하는 것이 훨씬 안전한 방법이다. 

			&lt;script src="https://unpkg.com/axios/dist/axios.min.js"&gt;&lt;/script&gt;

			$(document).ready(function () {

				addrScript = 'https://script.google.com/macros/s/AKfycbxcFTg0Vfc4_12Bd5rB620PwNXs5Rj2ipSwTWRt4sCZd6tBvvpACVfo5XOll95aQWtMyQ/exec';

				// $.ajax({
				//     url: 'https://**srcript url**/exec?action=insert&amp;table=tab_master&amp;data='+data,
				//     dataType: 'jsonp',
				//     success: function (data) {
				//         console.log('성공 - ', JSON.stringify(data));
				//     },
				//     error: function (xhr) {
				//         console.log('실패 - ', JSON.stringify(xhr));
				//     }
				// });
		
				axios.get(addrScript+'?action=insert&amp;table=tab_master&amp;data='+data)
				    .then(response =&gt; {
						console.log(JSON.stringify(response));
				    })
			    });
			    </code>
		</pre>

		<p> Form 만들기 </p>
		<pre>			<code>
				&lt;center&gt;
					&lt;p&gt;이메일을 남겨주시면 서비스가 런칭되었을 때 알림을 드리겠습니다. &lt;/p&gt;
					&lt;input id="submit-email" type="email" placeholder="알림을 받으실 이메일" /&gt; &lt;br&gt;&lt;br&gt;
					&lt;p&gt;서비스가 이렇게 되었으면 좋겠다는 조언을 해 주세요 &lt;/p&gt;
					&lt;textarea id="submit-advice" name="Text1" cols="40" rows="5" placeholder="서비스에 대한 조언을 남겨주세요"&gt;&lt;/textarea&gt;&lt;br&gt;
					&lt;button style="width:350px;" id="submit"&gt;지금 제출! &lt;/button&gt;
				    &lt;/center&gt;
			</code>
		</pre>

		<p> 버튼 클릭시 정보 전송  </p>
		<pre>			<code>
				$("#submit").on("click", function () {
					const email = $("#submit-email").val();
					const advice = $("#submit-advice").val();
		    
					function validateEmail(email) {
					    var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
					    return re.test(email);
					}
		    
					if (email == '' || !validateEmail(email)) {
					    alert("이메일이 유효하지 않아 알림을 드릴 수가 없습니다. ");
					    return;
					}
		    
					var finalData = JSON.stringify({
					    "id": getUVfromCookie(),
					    "email": email,
					    "advice": advice
					})
		    
					axios.get('https://**script url**/exec?action=insert&amp;table=tab_final&amp;data=' + finalData)
					    .then(response =&gt; {
						console.log(response.data.data);
						alert(JSON.stringify(response));
						$('#submit-email').val('');
						$('#submit-advice').val('');
					    })
				    });
			</code>
		</pre>

		<p> Loading - Busy</p>
		<pre>			<code>
				<a href="https://github.com/piccard21/busy-load">https://github.com/piccard21/busy-load</a>

				&lt;script src="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.js"&gt;&lt;/script&gt;
				&lt;link href="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.css" rel="stylesheet"&gt;

				$.busyLoadFull("show");
				$.busyLoadFull("hide");

				$(선택자).메소드() 
				$는 juquery식별자, .은 method 이 경우에는 전역 method 호출

			</code>
		</pre>

		<p> Pop up</p>
		<pre>			<code>
				<a href="https://github.com/dinoqqq/simple-popup">https://github.com/dinoqqq/simple-popup</a>

				https://github.com/dinoqqq/simple-popup/blob/master/dist/jquery.simple-popup.min.css

				: replace blob with @

				https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.css

				&lt;script src="https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.js"&gt;&lt;/script&gt;
    				&lt;link href="https://cdn.jsdelivr.net/gh/dinoqqq/simple-popup@master/dist/jquery.simple-popup.min.css" rel="stylesheet" type="text/css" /&gt;

				$.fn.simplePopup({ type: "html", htmlSelector: "#popup" });

				&lt;div id="popup" style="display:none;"&gt;
					&lt;h1&gt;감사합니다. &lt;/h1&gt;
					&lt;p&gt;이제는 우리는 같은 배를 탔습니다.  &lt;/p&gt;
				    &lt;/div&gt;
				
			</code>
		</pre>

		<p> Form Css</p> 
		<pre>			<code>
				&lt;style&gt;
					input, textarea, button {
					    padding: 10px;
					    border: 1px solid #ccc;
					    border-radius: 5px;
					    font-size: 16px;
					    color: #333;
					}
				    &lt;/style&gt;
			</code>
		</pre>

		<p> email </p>
		<pre>			<code>
				<p> sendMail() 함수를 앱 스크립트의 맨 아래에 추가 </p>
				function sendMail(email) {
					try {
						MailApp.sendEmail({
						to : email,
						subject : "감사합니다. 알려드리겠습니다.",
						htmlBody : "&lt;html&gt; &lt;p&gt; 감사합니다. 많은 도움이 되었습니다. &lt;/p&gt; &lt;/html&gt;"
						}
					  )
					} catch(e) {
					  console.log(e);
					}
				      }

					  <p> ·  insert함수의 상단에 다음의 조건을 추가 </p>
					// 데이터를 파싱하는 과정 추가
					  if (request.parameter.table == "tab_final") {
						  sendMail(data.email);
					  }
					  <p> 앱 스크립트를 수정한 후에는 반드시 배포관리에서 새 버전으로 배포할 것 → 구글에서 스크립트를 캐싱해서 곧바로 동작하지 않을 수 있음 </p>
			  
			</code>
		</pre>
		
		<p> Youtube </p>
		<pre>			<code>
				&lt;center&gt;
					&lt;iframe type="text/html" width="315" height="560" src="https://www.youtube.com/embed/QHgyX24kOSE?autoplay=1" title="대한민국 대학생들이 만든 레전드 광고 ㅋㅋㅋ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen&gt;&lt;/iframe&gt;
				&lt;/center&gt;
			</code>
		</pre>

		<p> git </p>

		<center>
			<a target="_blank" href="https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Git-%EC%84%A4%EC%B9%98"> Git - Git 설치</a>
			<p> 상단 repository 클릭 후 </p>
			<img src="webdev%20ip%20collections_files/git-new-1.png" width="70%">
			<img src="webdev%20ip%20collections_files/git-new-2.png" width="70%">
		</center>

		<pre>			<code>
				echo "# tmp" &gt;&gt; README.md
				git init
				git add README.md
				git commit -m "first commit"
				git branch -M main
				git remote add origin git@github.com:****/tmp.git
				git push -u origin main
			</code>
		</pre>

		<pre>			<code>
				git log → git history
				git diff : 워킹디렉토리 vs staged (내가 작업하던 것, original 명령어)
				옵션과 인수의 의미가 직관적이지 않음. 어쨌든 옵션이나 인수를 주면 target은 HEAD, 기준점이 변경 
				git diff --staged : staged vs 최종 commit  (기준이 바뀜, target은 HEAD)
				git diff HEAD : 워킹디렉토리 + staged vs 최종 commit (기준이 바뀐, target은 HEAD)
				git diff &lt;commit1&gt;&lt;commit2&gt;

				적절한 작업 flow 
				git pull 
				작업 (branch)
				git add .
				git commit 
				git pull
				git push
			</code>
		</pre>

		<p> render.com </p>

		<pre> 
			※ Proxy 서버가 필요한 경우, render.com의 node 배포를 이용해서 proxy 설정가능 
			   · jsonp 실패하는 경우 → 외부에서 proxy를 사용해서 app script engine에 접근 (Browser에서는 CORS exception나니까)
			1. Render 계정 생성 및 로그인
			2. 새 웹 서비스 생성:
			3. Render 대시보드에서 "New +" 버튼 클릭
			4. "Web Service" 선택
			5. 프로젝트 설정:
				GitHub 또는 GitLab 저장소 연결 또는 직접 코드 업로드
				프로젝트 이름 설정
				환경 선택 (예: Node.js)
			6. Render 배포 설정:
				Build Command: npm install
				Start Command: npm start
			7. 오른쪽 상단 Deploy/ 왼쪽 상단 주소 확인 
		</pre>



		<p> Proxy Server Express (nodejs), render.com  proxy.js </p>
		<pre>			<code>

				const express = require('express');
				const { createProxyMiddleware } = require('http-proxy-middleware');

				const app = express();
				const PORT = process.env.PORT || 3000;

				app.use('/api', createProxyMiddleware({
					target: 'https://script.google.com',
					changeOrigin: true,
					pathRewrite: {
						'^/api': '/macros/s/AKfycbymucHyMeANwDRi7xtl0IbXppo4PJt8DgWmsAK4g-KMBKuZ6veqCZymTy2GpVqPVLX5/exec'
					},
					onProxyReq: (proxyReq, req, res) =&gt; {
						// 원본 URL의 쿼리 문자열을 유지
						const originalUrl = new URL(req.url, `http://${req.headers.host}`);
						proxyReq.path = '/macros/s/AKfycbymucHyMeANwDRi7xtl0IbXppo4PJt8DgWmsAK4g-KMBKuZ6veqCZymTy2GpVqPVLX5/exec' + originalUrl.search;
						
						console.log('Proxying request to:', proxyReq.path);
					},
					onProxyRes: (proxyRes, req, res) =&gt; {
						console.log('Received response:', proxyRes.statusCode);
					},
					onError: (err, req, res) =&gt; {
						console.error('Proxy error:', err);
						res.status(500).send('Proxy error: ' + err.message);
					}
				}));


				app.listen(PORT, () =&gt; {
					console.log(`Proxy server running on port ${PORT}`);
				});

			</code>
		</pre>

		<p> Proxy Server Setting package.json</p>
		<pre>			<code>
			{
				"name": "render-proxy",
				"version": "1.0.0",
				"main": "index.js",
				"dependencies": {
					"express": "^4.17.1",
					"http-proxy-middleware": "^2.0.0"
				},
				"scripts": {
					"start": "node proxy.js"
				}
			}
			</code>
		</pre>

		




<script defer="defer" src="webdev%20ip%20collections_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;version&quot;:&quot;2024.11.0&quot;,&quot;token&quot;:&quot;87a6179407f2411095fd4355da64e669&quot;,&quot;r&quot;:1,&quot;server_timing&quot;:{&quot;name&quot;:{&quot;cfCacheStatus&quot;:true,&quot;cfEdge&quot;:true,&quot;cfExtPri&quot;:true,&quot;cfL4&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfSpeedBrain&quot;:true},&quot;location_startswith&quot;:null}}" crossorigin="anonymous"></script>

</body></html>